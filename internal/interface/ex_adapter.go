package interfaces

// EXAdapter описывает минимальный набор функций,
// который должен реализовать адаптер конкретной биржи,
// чтобы сканер мог получать рыночные данные и рассчитывать спреды.
//
// Все методы обязаны быть потокобезопасными и уважать контекст.
// Ошибки возвращаются вызывающему для дальнейшей обработки.
type EXAdapter interface {
	// Name возвращает короткое идентификатор биржи в snake_case,
	// используемый в логах и метриках.
	Name() string

	// TradingFee возвращает комиссию мейкера и тейкера для пары.
	// Значения указаны как доли (0.001 == 0.1 %).
	TradingFee(pair string) (maker, taker float64)

	// Close освобождает ресурсы (например, закрывает WebSocket-соединения).
	// Должен быть идемпотентным.
	Close() error
}
